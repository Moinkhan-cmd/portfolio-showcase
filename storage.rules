// Firebase Storage Security Rules
// Copy these rules to Firebase Console > Storage > Rules
//
// IMPORTANT: These rules allow public read access (so your portfolio can display images)
// but require authentication for writes. Your app will verify admin email on the client side.

rules_version = '2';
service firebase.storage {
  match /b/{bucket}/o {
    
    // Helper function to check if user is authenticated
    function isAuthenticated() {
      return request.auth != null;
    }
    
    // Public read access for portfolio images
    // Anyone can read images (thumbnails, project images, certificates)
    match /projects/{allPaths=**} {
      allow read: if true;
      allow write: if isAuthenticated(); // Only authenticated users can upload
    }
    
    match /certifications/{allPaths=**} {
      allow read: if true;
      allow write: if isAuthenticated(); // Only authenticated users can upload
    }
    
    // Note: Admin email verification is handled in your app (AuthContext)
    // Only users logged in with the admin email can access the admin panel
  }
}

